---
layout: post
title: GnuPG Cheat Sheet (command line)
date: '2015-01-17T14:53:00.000-05:00'
author: DatsWorld
tags:
- Security
- Ubuntu
- linux
- gpg
- configuration
- pgp
modified_time: '2015-01-24T13:24:37.528-05:00'
blogger_id: tag:blogger.com,1999:blog-1770165193886521985.post-8939872299589203254
blogger_orig_url: http://blog.datsworld.com/2015/01/gnupg-cheat-sheet-command-line.html
---

<h3><span style="color: #29aae1;">Create a PGP Key Pair</span></h3><pre class="pre1">trotman@glt:~$ gpg --list-keys</pre><br />Output: <br /><pre class="pre1">gpg (GnuPG) 1.4.16; Copyright (C) 2013 Free Software Foundation, Inc.<br />This is free software: you are free to change and redistribute it.<br />There is NO WARRANTY, to the extent permitted by law.<br /><br />Please select what kind of key you want:<br />   (1) RSA and RSA (default)<br />   (2) DSA and Elgamal<br />   (3) DSA (sign only)<br />   (4) RSA (sign only)<br />Your selection?1<br /></pre><br />Select 1 if you want to enable both encryption and signing. <br /><br /><pre class="pre1">RSA keys may be between 1024 and 4096 bits long.<br />What keysize do you want? (4096)<br />Requested keysize is 4096 bits<br />Please specify how long the key should be valid.<br />         0 = key does not expire<br />      &lt;n&gt;  = key expires in n days<br />      &lt;n&gt;w = key expires in n weeks<br />      &lt;n&gt;m = key expires in n months<br />      &lt;n&gt;y = key expires in n years<br />Key is valid for? (0) <br />Key does not expire at all<br />Is this correct? (y/N) y<br /><br />You need a user ID to identify your key; the software constructs the user ID<br />from the Real Name, Comment and Email Address in this form:<br />    "Heinrich Heine (Der Dichter) &lt;heinrichh@duesseldorf.de&gt;"<br /><br />Real name: Garth Trotman<br />Email address: garth.trotman@example.com<br />Comment: Sample Key<br />You selected this USER-ID:<br />    "Garth Trotman (Sample Key) &lt;garth.trotman@example.com&gt;"<br /><br />Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O<br />You need a Passphrase to protect your secret key.<br /><br />We need to generate a lot of random bytes. It is a good idea to perform<br />some other action (type on the keyboard, move the mouse, utilize the<br />disks) during the prime generation; this gives the random number<br />generator a better chance to gain enough entropy.<br /><br />Not enough random bytes available.  Please do some other work to give<br />the OS a chance to collect more entropy! (Need 150 more bytes)<br />...+++++<br />gpg: key 30F394FB marked as ultimately trusted<br />public and secret key created and signed.<br /><br />gpg: checking the trustdb<br />gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model<br />gpg: depth: 0  valid:   2  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 2u<br />pub   4096R/30F394FB 2015-01-07<br />      Key fingerprint = 0CC6 6C07 FDA9 2724 2690  054F 8AD8 84A4 30F3 94FB<br />uid                  Garth Trotman (Sample Key) &lt;garth.trotman@example.com&gt;<br />sub   4096R/0779F606 2015-01-07<br /></pre><br /><h3><span style="color: #29aae1;">Create a Revocation Certificate</span></h3><pre class="pre1">gpg --output filename.asc --gen-revoke key_id</pre><br /><pre class="pre1">trotman@glt:~$ gpg --output revoke.asc --gen-revoke 30F394FB</pre><br />Output: <br /><pre class="pre1">sec  4096R/30F394FB 2015-01-07 Garth Trotman (Sample Key) &lt;garth.trotman@example.com&gt;<br /><br />Create a revocation certificate for this key? (y/N)y<br />Please select the reason for the revocation:<br />  0 = No reason specified<br />  1 = Key has been compromised<br />  2 = Key is superseded<br />  3 = Key is no longer used<br />  Q = Cancel<br />(Probably you want to select 1 here)<br />Your decision? 0<br />Enter an optional description; end it with an empty line:<br />&gt; <br />Reason for revocation: No reason specified<br />(No description given)<br />Is this okay? (y/N) y<br /><br />You need a passphrase to unlock the secret key for<br />user: "Garth Trotman (Sample Key) &lt;garth.trotman@example.com&gt;"<br />4096-bit RSA key, ID 30F394FB, created 2015-01-07<br /><br />ASCII armored output forced.<br />Revocation certificate created.<br /><br />Please move it to a medium which you can hide away; if Mallory gets<br />access to this certificate he can use it to make your key unusable.<br />It is smart to print this certificate and store it away, just in case<br />your media become unreadable.  But have some caution:  The print system of<br />your machine might store the data and make it available to others!<br /></pre><h3><span style="color: #29aae1;">List PGP Public Keys</span></h3><pre class="pre1">trotman@glt:~$ gpg --list-keys</pre><br />Output: <br /><pre class="pre1">/home/trotman/.gnupg/pubring.gpg<br />--------------------------------<br />pub   4096R/30F394FB 2015-01-07<br />uid                  Garth Trotman (Sample Key) &lt;garth.trotman@example.com&gt;<br />sub   4096R/0779F606 2015-01-07<br /></pre><h3><span style="color: #29aae1;">List PGP Secret Keys</span></h3><pre class="pre1">trotman@glt:~$ gpg --list-secret-keys</pre><br />Output: <br /><pre class="pre1">/home/trotman/.gnupg/secring.gpg<br />--------------------------------<br />sec   4096R/30F394FB 2015-01-07<br />uid                  Garth Trotman (Sample Key) &lt;garth.trotman@example.com&gt;<br />ssb   4096R/0779F606 2015-01-07<br /></pre><h3><span style="color: #29aae1;">Export/Backup a Public key</span></h3><pre class="pre1">gpg -ao filename.key --export key_id</pre><br /><pre class="pre1">trotman@glt:~$ gpg -ao public.key --export 30F394FB</pre><br /><h3><span style="color: #29aae1;">Export/Backup a Private key</span></h3><pre class="pre1">gpg -ao filename.key --export-secret-key key_id</pre><br /><pre class="pre1">trotman@glt:~$ gpg -ao private.key --export-secret-key 30F394FB</pre><br /><h3><span style="color: #29aae1;">Import/Restore a Public key</span></h3><pre class="pre1">gpg --import filename.key</pre><br /><pre class="pre1">trotman@glt:~$ gpg --import public.key</pre><br /><h3><span style="color: #29aae1;">Import/Restore a Private key</span></h3><pre class="pre1">gpg --import filename.key</pre><br /><pre class="pre1">trotman@glt:~$ gpg --import private.key</pre><br /><h3><span style="color: #29aae1;">Delete a Private key</span></h3><pre class="pre1">gpg --delete-secret-key key_id</pre><br /><pre class="pre1">trotman@glt:~$ gpg --delete-secret-key 30F394FB</pre><br /><h3><span style="color: #29aae1;">Delete a Public key</span></h3><pre class="pre1">gpg --delete-key key_id</pre><br /><pre class="pre1">trotman@glt:~$ gpg --delete-key 30F394FB</pre><br /><h3><span style="color: #29aae1;">Create ASCII Armored Version of Public Key</span></h3><pre class="pre1">trotman@glt:~$ gpg --output mykey.asc --export -a 30F394FB</pre><br />